<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>Days of Bed Care</title>
    <link href="archive.css" rel="stylesheet" />
</head>

<body>
    <!-- Top Navigation Bar -->
    <nav style="height: 80px;">
        <div class="nav-container">
            <a href="index.html" class="home" aria-label="Home"></a>
            <a href="archive.html" class="archive" aria-label="Archive"></a>
            <a href="about.html" class="about" aria-label="About"></a>
        </div>
    </nav>

    <!-- Content with Bed images and their corresponding BedPaint images -->
    <div class="Content">
        <div class="image-container">
            <img class="Bed" src="./BedImage/Bed1R.jpg" />
            <img class="hiddenInfo" src="./BedImage/Bed1P.jpg" onclick="openModal('bed1')" />
        </div>
        <div class="image-container">
            <img class="Bed" src="./BedImage/Bed2R.jpg" />
            <img class="hiddenInfo" src="./BedImage/Bed2P.jpg" onclick="openModal('bed2')" />
        </div>
        <div class="image-container">
            <img class="Bed" src="./BedImage/Bed3R.jpg" />
            <img class="hiddenInfo" src="./BedImage/Bed3P.jpg" onclick="openModal('bed3')" />
        </div>
    </div>
    

    <!-- The Modal -->
    <div id="bed1" class="modal">
        <div class="modal-content">
            <div class="modal-carousel">
                <button class="close" onclick="closeModal('bed1')"></button>
                <div class="carousel-container">
                <img src="BedImage/Bed1R.jpg" alt="bed 1">
                <img src="BedImage/Bed1P.jpg" alt="bed 1 Paint">
                <!-- Add more images as needed -->
            </div>
                <button class="carousel-prev">&#10094;</button>
                <button class="carousel-next">&#10095;</button>
            </div>
                <div class="modal-comments">
                    <p>This is a comment about the image.</p>
                    <p>Another comment goes here.</p>
                    <!-- 添加更多评论 -->
                    <div class="form-container">
                        <form name="comments" enctype="multipart/form-data" data-netlify="true" id="comment-bed1">
                            <div class="textarea-container">
                                <textarea id="name1" name="name1" required></textarea>
                                <textarea id="comment1" name="comment1" required></textarea>
                                <img id="frame" src="Image/commentFrame.png" alt="Input Box" style="display:none;" />
                            </div>
                            <button type="submit"class="submit-button"></button>
                        </div>
                    </form>
                    <div class="like-container">
                        <button onclick="handleLike('item1')" class="like-button"></button>
                        <span id="like-count-item1">Loading likes...</span>
                    </div>
                    <p class="result"></p>
                </div>
        </div>
    </div>

    <div id="bed2" class="modal">
        <div class="modal-content">
            <div class="modal-carousel">
                <button class="close" onclick="closeModal('bed2')"></button>
                <div class="carousel-container">
                <img src="BedImage/Bed2R.jpg" alt="bed 2">
                <img src="BedImage/Bed2P.jpg" alt="bed 2 Paint">
            </div>
                <button class="carousel-prev">&#10094;</button>
                <button class="carousel-next">&#10095;</button>
            </div>
                <div class="modal-comments">
                    <p>This is a comment about the image.</p>
                    <p>Another comment goes here.</p>
                    <!-- 添加更多评论 -->
                    <div class="form-container">
                        <form name="comments" enctype="multipart/form-data" data-netlify="true" id="comment-bed2">
                            <div class="textarea-container">
                                <textarea id="name2" name="name2" required></textarea>
                                <textarea id="comment2" name="comment2" required></textarea>
                                <img id="frame" src="Image/commentFrame.png" alt="Input Box" style="display:none;" />
                            </div>
                            <button type="submit"class="submit-button"></button>
                        </div>
                    </form>
                    <div class="like-container">
                        <button onclick="handleLike('item2')" class="like-button"></button>
                        <span id="like-count-item2">Loading likes...</span>
                    </div>
                    <p class="result"></p>
                </div>
        </div>
    </div>

    <div id="bed3" class="modal">
        <div class="modal-content">
            <div class="modal-carousel">
                <button class="close" onclick="closeModal('bed3')"></button>
                <div class="carousel-container">
                <img src="BedImage/Bed3R.jpg" alt="bed 3">
                <img src="BedImage/Bed3P.jpg" alt="bed 3 Paint">
            </div>
                <button class="carousel-prev">&#10094;</button>
                <button class="carousel-next">&#10095;</button>
            </div>
                <div class="modal-comments">
                    <p>This is a comment about the image.</p>
                    <p>Another comment goes here.</p>
                    <!-- 添加更多评论 -->
                </div>
        </div>
    </div>

    <div class="Content">
        <div class="image-container">
            <img class="Bed" src="./BedImage/Bed4R.jpg" />
            <img class="hiddenInfo" src="./BedImage/Bed4P.jpg" onclick="openModal('bed4');" />
        </div>
        <div class="image-container">
            <img class="Bed" src="./BedImage/Bed5R.jpg" />
            <img class="hiddenInfo" src="./BedImage/Bed5P.jpg" onclick="openModal('bed5')" />
        </div>
        <div class="image-container">
            <img class="Bed" src="./BedImage/Bed6R.jpg" />
            <img class="hiddenInfo" src="./BedImage/Bed6P.jpg" onclick="openModal('bed6')" />
        </div>
    </div>


    <!-- The Modal -->
    <div id="bed4" class="modal">
        <div class="modal-content">
            <div class="modal-carousel">
                <button class="close" onclick="closeModal('bed4')"></button>
                <div class="carousel-container">
                <img src="BedImage/Bed4R.jpg" alt="bed 4">
                <img src="BedImage/Bed4P.jpg" alt="bed 4 Paint">
                <!-- Add more images as needed -->
            </div>
                <button class="carousel-prev">&#10094;</button>
                <button class="carousel-next">&#10095;</button>
            </div>
                <div class="modal-comments">
                    <p>This is a comment about the image.</p>
                    <p>Another comment goes here.</p>
                    <!-- 添加更多评论 -->
                </div>
        </div>
    </div>

    <div id="bed5" class="modal">
        <div class="modal-content">
            <div class="modal-carousel">
                <button class="close" onclick="closeModal('bed5')"></button>
                <div class="carousel-container">
                <img src="BedImage/Bed5R.jpg" alt="bed 5">
                <img src="BedImage/Bed5P.jpg" alt="bed 5 Paint">
                <!-- Add more images as needed -->
            </div>
                <button class="carousel-prev">&#10094;</button>
                <button class="carousel-next">&#10095;</button>
            </div>
                <div class="modal-comments">
                    <p>This is a comment about the image.</p>
                    <p>Another comment goes here.</p>
                    <!-- 添加更多评论 -->
                </div>
        </div>
    </div>

    <div id="bed6" class="modal">
        <div class="modal-content">
            <div class="modal-carousel">
                <button class="close" onclick="closeModal('bed6')"></button>
                <div class="carousel-container">
                <img src="BedImage/Bed6R.jpg" alt="bed 6">
                <img src="BedImage/Bed6P.jpg" alt="bed 6 Paint">
                <!-- Add more images as needed -->
            </div>
                <button class="carousel-prev">&#10094;</button>
                <button class="carousel-next">&#10095;</button>
            </div>
                <div class="modal-comments">
                    <p>This is a comment about the image.</p>
                    <p>Another comment goes here.</p>
                    <!-- 添加更多评论 -->
                </div>
        </div>
    </div>

    <div class="Content">
        <div class="image-container">
            <img class="Bed" src="./BedImage/Bed7R.jpg" />
            <img class="hiddenInfo" src="./BedImage/Bed7P.jpg" onclick="openModal('bed7');" />
        </div>
        <div class="image-container">
            <img class="Bed" src="./BedImage/Bed8R.jpg" />
            <img class="hiddenInfo" src="./BedImage/Bed8P.jpg" onclick="openModal('bed8')" />
        </div>
        <div class="image-container">
            <img class="Bed" src="./BedImage/Bed9R.jpg" />
            <img class="hiddenInfo" src="./BedImage/Bed9P.jpg" onclick="openModal('bed9')" />
        </div>
    </div>


    <!-- The Modal -->
    <div id="bed7" class="modal">
        <div class="modal-content">
            <div class="modal-carousel">
                <button class="close" onclick="closeModal('bed7')"></button>
                <div class="carousel-container">
                <img src="BedImage/Bed7R.jpg" alt="bed 7">
                <img src="BedImage/Bed7P.jpg" alt="bed 7 Paint">
                <!-- Add more images as needed -->
            </div>
                <button class="carousel-prev">&#10094;</button>
                <button class="carousel-next">&#10095;</button>
            </div>
                <div class="modal-comments">
                    <p>This is a comment about the image.</p>
                    <p>Another comment goes here.</p>
                    <!-- 添加更多评论 -->
                </div>
        </div>
    </div>

    <div id="bed8" class="modal">
        <div class="modal-content">
            <div class="modal-carousel">
                <button class="close" onclick="closeModal('bed8')"></button>
                <div class="carousel-container">
                <img src="BedImage/Bed8R.jpg" alt="bed 8">
                <img src="BedImage/Bed8P.jpg" alt="bed 8 Paint">
                <!-- Add more images as needed -->
            </div>
                <button class="carousel-prev">&#10094;</button>
                <button class="carousel-next">&#10095;</button>
            </div>
                <div class="modal-comments">
                    <p>This is a comment about the image.</p>
                    <p>Another comment goes here.</p>
                    <!-- 添加更多评论 -->
                </div>
        </div>
    </div>

    <div id="bed9" class="modal">
        <div class="modal-content">
            <div class="modal-carousel">
                <button class="close" onclick="closeModal('bed9')"></button>
                <div class="carousel-container">
                <img src="BedImage/Bed9R.jpg" alt="bed 9">
                <img src="BedImage/Bed9P.jpg" alt="bed 9 Paint">
                <!-- Add more images as needed -->
            </div>
                <button class="carousel-prev">&#10094;</button>
                <button class="carousel-next">&#10095;</button>
            </div>
                <div class="modal-comments">
                    <p>This is a comment about the image.</p>
                    <p>Another comment goes here.</p>
                    <!-- 添加更多评论 -->
                </div>
        </div>
    </div>

    <div class="Content">
        <div class="image-container">
            <img class="Bed" src="./BedImage/Bed10R.jpg" />
            <img class="hiddenInfo" src="./BedImage/Bed10P.jpg" onclick="openModal('bed10');" />
        </div>
        <div class="image-container">
            <img class="Bed" src="./BedImage/Bed11R.jpg" />
            <img class="hiddenInfo" src="./BedImage/Bed11P.jpg" onclick="openModal('bed11')" />
        </div>
        <div class="image-container">
            <img class="Bed" src="./BedImage/Bed12R.jpg" />
            <img class="hiddenInfo" src="./BedImage/Bed12P.jpg" onclick="openModal('bed12')" />
        </div>
    </div>


    <!-- The Modal -->
    <div id="bed10" class="modal">
        <div class="modal-content">
            <div class="modal-carousel">
                <button class="close" onclick="closeModal('bed10')"></button>
                <div class="carousel-container">
                <img src="BedImage/Bed10R.jpg" alt="bed 10">
                <img src="BedImage/Bed10P.jpg" alt="bed 10 Paint">
                <!-- Add more images as needed -->
            </div>
                <button class="carousel-prev">&#10094;</button>
                <button class="carousel-next">&#10095;</button>
            </div>
                <div class="modal-comments">
                    <p>This is a comment about the image.</p>
                    <p>Another comment goes here.</p>
                    <!-- 添加更多评论 -->
                </div>
        </div>
    </div>

    <div id="bed11" class="modal">
        <div class="modal-content">
            <div class="modal-carousel">
                <button class="close" onclick="closeModal('bed11')"></button>
                <div class="carousel-container">
                <img src="BedImage/Bed11R.jpg" alt="bed 11">
                <img src="BedImage/Bed11P.jpg" alt="bed 11 Paint">
                <!-- Add more images as needed -->
            </div>
                <button class="carousel-prev">&#10094;</button>
                <button class="carousel-next">&#10095;</button>
            </div>
                <div class="modal-comments">
                    <p>This is a comment about the image.</p>
                    <p>Another comment goes here.</p>
                    <!-- 添加更多评论 -->
                </div>
        </div>
    </div>

    <div id="bed12" class="modal">
        <div class="modal-content">
            <div class="modal-carousel">
                <button class="close" onclick="closeModal('bed12')"></button>
                <div class="carousel-container">
                <img src="BedImage/Bed12R.jpg" alt="bed 12">
                <img src="BedImage/Bed12P.jpg" alt="bed 12 Paint">
                <!-- Add more images as needed -->
            </div>
                <button class="carousel-prev">&#10094;</button>
                <button class="carousel-next">&#10095;</button>
            </div>
                <div class="modal-comments">
                    <p>This is a comment about the image.</p>
                    <p>Another comment goes here.</p>
                    <!-- 添加更多评论 -->
                </div>
        </div>
    </div>
    
    <script>
        function showImage(imageId) {
            document.getElementById(imageId).style.display = 'block';
        }

        async function loadLikes(itemId) {
            try {
                const response = await fetch('/.netlify/functions/getlikes');
                const data = await response.json();
                const likeCount = data[itemId];

                // 检查 likeCount 是否存在并有效
                if (likeCount !== undefined) {
                    document.getElementById(`like-count-${itemId}`).textContent = `${likeCount} Likes`;
                } else {
                    document.getElementById(`like-count-${itemId}`).textContent = '0 Likes';
                }
            } catch (error) {
                console.error('Error fetching likes:', error);
                document.getElementById(`like-count-${itemId}`).textContent = 'Error loading likes';
            }
        }
        
        document.addEventListener('DOMContentLoaded', () => {
            // const items = ['item1', 'item2', 'item3','item4', 'item5', 'item6','item7', 'item8', 'item9','item10', 'item11', 'item12']; 
            const items = ['item1', 'item2'];
            items.forEach(itemId => {
                loadLikes(itemId);
            });
        });

        // Function to handle the like button click
        async function handleLike(itemId) {
            try {
            const response = await fetch('/.netlify/functions/like', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ item_id: itemId }),
            });

            const data = await response.json();
            document.getElementById(`like-count-${itemId}`).textContent = `${data.likes} Likes`;
            } catch (error) {
            console.error('Error updating like:', error);
            document.getElementById(`like-count-${itemId}`).textContent = 'Error updating like';
            }
        }

        
        function openModal(id) {
            document.getElementById(id).style.display = "block";
            document.body.classList.add('disable-hover'); // Disable hover effect
            document.body.style.overflow = "hidden"; // 禁用页面滚动

        }

        function closeModal(id) {
            document.getElementById(id).style.display = "none";
            document.body.classList.remove('disable-hover'); // Enable hover effect
            document.body.style.overflow = "auto"; // 恢复页面滚动

        }

        // Close the modal if the user clicks outside of it
        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                closeModal(event.target.id);
            }
        }
            document.addEventListener('DOMContentLoaded', function() {
                const carousels = document.querySelectorAll('.modal-carousel');

                carousels.forEach(carousel => {
                    const prevButton = carousel.querySelector('.carousel-prev');
                    const nextButton = carousel.querySelector('.carousel-next');
                    const carouselContainer = carousel.querySelector('.carousel-container');
                    const images = carouselContainer.querySelectorAll('img');
                    let index = 0;
                    const totalImages = images.length;

                    function updateCarousel() {
                        const offset = -index * 100; // Calculate the offset for the current image
                        carouselContainer.style.transform = `translateX(${offset}%)`;
                    }

                    nextButton.addEventListener('click', function() {
                        index = (index + 1) % totalImages; // Move to the next image
                        updateCarousel();
                    });

                    prevButton.addEventListener('click', function() {
                        index = (index - 1 + totalImages) % totalImages; // Move to the previous image
                        updateCarousel();
                    });

                    // Initialize the carousel
                    updateCarousel();
                });
        });
        const textarea = document.getElementById('name');

        const overlayImage = document.getElementByName('frame');

        textarea.addEventListener('focus', function() {
            overlayImage.style.display = 'block'; // Show the image when the textarea is focused
        });

        // Optional: Hide the image when clicking on the image itself
        overlayImage.addEventListener('click', function() {
            overlayImage.style.display = 'none'; // Hide the image when clicked
        });

    </script>
</body>

</html>