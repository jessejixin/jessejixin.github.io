<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <link
        href="website2.css"
        rel="stylesheet"
    />
</head>

<body>
    <div class="input-box">
        <p>STEP 1: Please upload a photo of your bed</p>
        <input type="file" id="file-uploader" name="attachment" accept="image/png, image/jpeg" />

        <p>STEP 2: Please briefly describe the bed and your relationship to it.</p>
        <textarea name="text" id="myTextArea" cols="30" rows="5" maxlength="240" placeholder="Describe your bed..."></textarea>

        <button type="submit">Send</button>
    </div>

    <!-- 上传进度条和上传完成后显示图标的 JavaScript 代码 -->
    <script type="text/javascript">
        const fileUploader = document.getElementById('file-uploader');
        const reader = new FileReader();

        fileUploader.addEventListener('change', (event) => {
            const files = event.target.files;
            const file = files[0];
            reader.readAsDataURL(file);

            reader.addEventListener('progress', (event) => {
                if (event.loaded && event.total) {
                    showProgress();
                }
            });
        });

        function showProgress() {
            // Implement your progress bar logic here if needed
        }
    </script>

    <!-- 获取IP地址的 JavaScript 代码 -->
    <script src="https://code.jquery.com/jquery-latest.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $.getJSON("https://api.ip.sb/geoip?callback=?",
                function (json) {
                    console.log(json.ip);
                    document.getElementById("ip").value = json.ip;
                }
            );
        });
    </script>
</body>

</html>